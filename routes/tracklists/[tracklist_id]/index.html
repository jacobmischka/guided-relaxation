<:Head>
	<title>{{name}} - Guided relaxation</title>
</:Head>

<Layout page="tracklist">
	<Backdrop />
	<Header />

	<div class="tracklist-container">
		<Tracklist :id :name :tracks />
	</div>
</Layout>

<style>
	:global(main[data-page="tracklist"]) {
		box-sizing: border-box;
		padding-left: 3em;
		padding-right: 3em;
	}

	.tracklist-container {
		display: flex;
		justify-content: center;
	}
</style>

<script>
	import Layout from '@/components/Layout.html';
	import Backdrop from '@/components/Backdrop.html';
	import Header from '@/components/Header.html';
	import Tracklist from '@/components/Tracklist.html';

	import tracklists from '@assets/tracklists.json';

	export default {
		preload({ params: { tracklist_id } }) {
			// These ==s are intentional, strings and numbers should both work

			// eslint-disable-next-line eqeqeq
			const tracklist = tracklists.find(t => t.id == tracklist_id);

			return tracklist;
		},
		components: {
			Layout,
			Backdrop,
			Header,
			Tracklist
		}
	};
</script>
